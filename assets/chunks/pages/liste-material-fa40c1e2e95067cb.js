(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[451],{3311:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/liste-material",function(){return t(3558)}])},3558:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return S}});var n=t(5893),l=t(9008),a=t.n(l);t(1664);var i=t(7128),s=t(7294),o=t(2558),c=t(3490),d=t(8426),h=t(55),u=t(6788),x=t(4277),g=t(8674),j=t(7182),Z=t(5026),w=t(364),p=t(6592),m=t(360),f=t(6577),_=t(6966),b=t(9827),y=t(1769),k=t(8778),C=t(5697),P=t.n(C);let v=e=>{let[r,t]=(0,s.useState)([]),[l,a]=(0,s.useState)(!0),[o,c]=(0,s.useState)(null),[d,h]=(0,s.useState)(0),[x,g]=(0,s.useState)(0),[C,P]=(0,s.useState)(25);if((0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("".concat(i.Z.apiUrl,"/materials/"));if(!e.ok)throw Error("Failed to fetch materials");let r=await e.json();t(r),h(r.length)}catch(e){c(e.message)}finally{a(!1)}})()},[]),l)return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",padding:"20px"},children:(0,n.jsx)(j.Z,{})});if(o)return(0,n.jsxs)(u.Z,{color:"error",align:"center",children:["Error: ",o]});let v=e=>e?new Date(e).toLocaleDateString():"-",E=r.slice(x*C,x*C+C);return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(Z.Z,{component:w.Z,children:[(0,n.jsxs)(p.Z,{children:[(0,n.jsx)(m.Z,{children:(0,n.jsxs)(f.Z,{children:[(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Composition du gaz"}),(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Equipe"}),(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Nom du responsable"}),(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Salle de stockage"}),(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Taille de la bouteille"}),(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Date d'arriv\xe9e"}),(0,n.jsx)(_.Z,{style:{backgroundColor:"rgb(1, 50, 32)",color:"white"},children:"Date de d\xe9part"})]})}),(0,n.jsx)(b.Z,{children:E.map(e=>{let r=null!==e.date_depart&&void 0!==e.date_depart&&""!==e.date_depart,t=(0,n.jsxs)(f.Z,{style:r?{backgroundColor:"rgb(229, 228, 226"}:{},children:[(0,n.jsx)(_.Z,{children:e.material_title}),(0,n.jsx)(_.Z,{children:e.team}),(0,n.jsxs)(_.Z,{children:[e.owner_first_name," ",e.owner_last_name]}),(0,n.jsx)(_.Z,{children:e.origin}),(0,n.jsx)(_.Z,{children:e.size}),(0,n.jsx)(_.Z,{children:v(e.date_arrivee)}),(0,n.jsx)(_.Z,{children:v(e.date_depart)})]},e.material_id);return r?(0,n.jsx)(s.Fragment,{children:t},e.material_id):(0,n.jsx)(y.Z,{underline:"none",color:"inherit",href:"/gazostheque/details/material-detail/".concat(e.material_id),style:{display:"contents"},children:t},e.material_id)})})]}),(0,n.jsx)(k.Z,{component:"div",count:d,onPageChange:(e,r)=>{g(r)},onRowsPerPageChange:e=>{P(parseInt(e.target.value,10)),g(0)},page:x,rowsPerPage:C,rowsPerPageOptions:[25,50,100,150,200,250]})]})})};v.propTypes={count:P().number,items:P().array,onPageChange:P().func,onRowsPerPageChange:P().func,page:P().number,rowsPerPage:P().number};let E=()=>{let e=(0,o.a)().user,[r,t]=(0,s.useState)(null);return(0,s.useEffect)(()=>{fetch("".concat(i.Z.apiUrl,"/materials/owner/").concat(e.owner_id,"/")).then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{t(e)}).catch(e=>{console.error("Error fectching data:",e)})},[e.owner_id]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a(),{children:(0,n.jsx)("title",{children:"Listes de bouteille | Gazotheque"})}),(0,n.jsx)(c.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,n.jsx)(d.Z,{maxWidth:"xl",children:(0,n.jsxs)(h.Z,{spacing:3,children:[(0,n.jsx)("div",{children:(0,n.jsx)(u.Z,{variant:"h4",children:"Liste des bouteilles de gaz"})}),(0,n.jsx)("div",{children:(0,n.jsx)(x.Z,{container:!0,width:"100%",children:(0,n.jsx)(x.Z,{xs:12,md:6,lg:10})})}),(0,n.jsx)("div",{children:(0,n.jsx)(x.Z,{container:!0,width:"100%",children:(0,n.jsx)(x.Z,{xs:12,md:6,lg:10,children:(0,n.jsx)(v,{data:r})})})})]})})})]})};E.getLayout=e=>(0,n.jsx)(g.A,{children:e});var S=E}},function(e){e.O(0,[103,734,664,151,277,96,142,674,888,774,179],function(){return e(e.s=3311)}),_N_E=e.O()}]);