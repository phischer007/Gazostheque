(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[123],{5850:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/public/[materialId]",function(){return n(8053)}])},8053:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var r=n(5893),i=n(9008),a=n.n(i),l=n(7128),s=n(1163),o=n(3490),c=n(8426),d=n(55),h=n(6788),x=n(762),u=n(6912),m=n(4677),p=n(7294);n(9332);var g=n(7527);let j=(0,g.ZP)("div")(e=>{let{theme:t}=e;return{display:"flex",flex:"1 1 auto",maxWidth:"100%"}}),f=(0,g.ZP)("div")({display:"flex",flex:"1 1 auto",flexDirection:"column",width:"100%"}),y=e=>{let{children:t}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(j,{children:(0,r.jsx)(f,{children:t})})})};var Z=n(2990);let v=()=>{let{materialId:e}=(0,s.useRouter)().query,[t,n]=(0,p.useState)(null);return(0,p.useEffect)(()=>{e&&fetch("".concat(l.Z.apiUrl,"/materials/").concat(e)).then(e=>e.json()).then(e=>{n({...e,date_arrivee:e.date_arrivee?new Date(e.date_arrivee).toLocaleDateString():null})}).catch(e=>console.error("Error fetching data:",e))},[e]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:"Informations de base sur la bouteille"})}),(0,r.jsx)(o.Z,{component:"main",sx:{flexGrow:1,py:8},children:(0,r.jsx)(c.Z,{maxWidth:"lg",children:(0,r.jsxs)(d.Z,{spacing:3,gap:2,children:[(0,r.jsx)(d.Z,{direction:"row",justifyContent:"space-between",spacing:4,children:(0,r.jsx)(h.Z,{variant:"h5",children:"Informations de base sur la bouteille"})}),(0,r.jsx)(Z.x,{data:t,mode:"public"}),t&&(0,r.jsx)(x.Z,{children:(0,r.jsxs)(d.Z,{spacing:2,sx:{p:3},children:[(0,r.jsx)(h.Z,{variant:"h6",children:"D\xe9tails sur la bouteille"}),(0,r.jsx)(u.Z,{}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)("strong",{children:"Salle de stockage:"})," ",t.origin]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)("strong",{children:"Code Commande:"})," ",t.codeCommande]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)("strong",{children:"Code Barres:"})," ",t.codeBarres]}),(0,r.jsxs)(h.Z,{children:[(0,r.jsx)("strong",{children:"Date d'arriv\xe9e:"})," ",t.date_arrivee]})]})}),(0,r.jsx)(d.Z,{spacing:1,children:(0,r.jsx)(m.Z,{variant:"contained",children:"D\xe9part"})})]})})})]})};v.getLayout=e=>(0,r.jsx)(y,{children:e});var b=v},2990:function(e,t,n){"use strict";n.d(t,{x:function(){return g}});var r=n(5893),i=n(7294);n(5678);var a=n(762),l=n(1919),s=n(3490),o=n(8573),c=n(5895),d=n(6788),h=n(6912),x=n(4952),u=n(4677),m=n(5697),p=n.n(m);(0,n(7527).ZP)("span")(e=>{let{theme:t,ownerState:n}=e;return{alignItems:"center",backgroundColor:t.palette[n.color].alpha12,borderRadius:12,color:"dark"===t.palette.mode?t.palette[n.color].main:t.palette[n.color].dark,cursor:"default",display:"inline-flex",flexGrow:0,flexShrink:0,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),lineHeight:2,fontWeight:600,justifyContent:"center",letterSpacing:.5,minWidth:20,paddingLeft:t.spacing(1),paddingRight:t.spacing(1),textTransform:"uppercase",whiteSpace:"nowrap"}}),p().node,p().oneOf(["primary","secondary","error","info","warning","success"]);let g=e=>{let t=e.data,n="Gazotheque-".concat(null==t?void 0:t.material_id.toString().padStart(3,"0")),m=(0,i.useCallback)(()=>{let e=window.open("","_blank");e&&(e.document.write('\n        <html>\n          <head>\n            <style>\n              body { font-family: Arial, sans-serif; text-align: center; }\n              img { margin-top: 10px; }\n              h5 { margin-top: -50px; }\n            </style>\n          </head>\n          <body>\n            <img src="data:image/png;base64,'.concat(t.qrcode,'" alt="QRCode" style="width: 250px; height: 250px; object-fit: cover;"/>\n            <h5> ').concat(n," </h5>\n          </body>\n        </html>\n      ")),e.document.close())},[t,n]);return t?(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(l.Z,{children:(0,r.jsxs)(s.Z,{sx:{alignItems:"center",display:"flex",flexDirection:"column",position:"relative"},children:[(0,r.jsx)(o.ZP,{container:!0,xs:12,sx:{justifyContent:"flex-end",position:"absolute"}}),!e.mode&&(0,r.jsx)(c.Z,{variant:"square",sx:{height:250,width:250},children:(0,r.jsx)("img",{src:"data:image/png;base64,".concat(t.qrcode),alt:"QRCode",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,r.jsx)(d.Z,{gutterBottom:!0,variant:"h6",children:t.material_title}),(0,r.jsxs)(d.Z,{gutterBottom:!0,variant:"h6",children:["Owner : ",t.owner_details.first_name," ",t.owner_details.last_name]}),(0,r.jsxs)(d.Z,{color:"text.secondary",variant:"body2",children:["Contact : ",t.owner_details.email]}),(0,r.jsxs)(d.Z,{color:"text.secondary",variant:"body2",children:["Num\xe9ro de la bouteille : ",n]})]})}),!e.mode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,{}),(0,r.jsx)(x.Z,{style:{display:"flex",justifyContent:"center"},children:(0,r.jsx)(u.Z,{variant:"text",onClick:m,children:"Imprimer le code QRCode et le num\xe9ro d'article"})})]})]}):(0,r.jsx)(a.Z,{children:(0,r.jsx)(l.Z,{children:(0,r.jsx)(d.Z,{gutterBottom:!0,variant:"h5",children:"Erreur : Aucun enregistrement de bouteille de gaz n'a \xe9t\xe9 trouv\xe9 dans le syst\xe8me.!!"})})})}}},function(e){e.O(0,[103,734,649,573,888,774,179],function(){return e(e.s=5850)}),_N_E=e.O()}]);